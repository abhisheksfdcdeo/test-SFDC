<!DOCTYPE html PUBLIC"-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
 </head>
 <body>
  <h3>REST API With Javascript</h3>
  
  <form id="foo" method="post" enctype="multipart/form-data">
     <table>
      <tr>
       <td>Grant type</td>
      <td><input type="text" name = "grant_type" value= "password" size="50"></td>
     </tr>
      <tr>
       <td>Client Id</td>
      <td><textarea name = "client_id">3MVG9d8..z.hDcPLhC37A41kWCOjVkpVUMIMf4qHnQf5fhbUgKXezQpeYZVHPbPAinusS.PMCKQ==</textarea></td>
     </tr>
      <tr>
       <td>Client Secret</td>
      <td><input type="text" name = "client_secret" value= "513430661611777496" size="50"></td>
     </tr>
     <tr>
       <td>User Name</td>
      <td><input type="text" name="username" size="50" value="abhishek_sfdc@gmail.com"></td>
     </tr>
      <tr>
       <td>password</td>
      <td><input type="text" name="password"  value="Welcome1rs@bhigQDRf6LmP13TQlXGCF667IB3q"></td>
     </tr>
       <tr>
       <td colspan="2"><input type="submit"  value="Connect Salesforce"></td>
     </tr>
   </table>
   </form>
   <script type="text/javascript">
        var jq=jQuery.noConflict();
         // Variable to hold request
         var request;
         // Bind to the submit event of our form
        jq("#foo").submit(function(event){
          // Prevent default posting of form - put here to work in case of errors
          event.preventDefault();
         // Abort any pending request
         if (request) {
             request.abort();
         }
         // setup some local variables
         var $form = jq(this);
         // Let's select and cache all the fields
         var $inputs = $form.find("input, select, button, textarea");
         // Serialize the data in the form
          var serializedData = $form.serialize();
         // Let's disable the inputs for the duration of the Ajax request.
        // Note: we disable elements AFTER the form data has been serialized.
        // Disabled form elements will not be serialized.
        $inputs.prop("disabled", true);
        // Fire off the request to /form.php
        request = jq.ajax({
          url: "https://sfdc-cors.herokuapp.com/services/oauth2/token",
          dataType: 'jsonp',
          contentType: "multipart/form-data",
          type: "post",
          data: serializedData
        });

       // Callback handler that will be called on success
       request.done(function (response, textStatus, jqXHR){
           // Log a message to the console
           console.log("Hooray, it worked!");
       });

      // Callback handler that will be called on failure
      request.fail(function (jqXHR, textStatus, errorThrown){
          // Log the error to the console
          console.error(
              "The following error occurred: "+
              textStatus, errorThrown
          );
      });

      // Callback handler that will be called regardless
      // if the request failed or succeeded
      request.always(function () {
          // Reenable the inputs
          $inputs.prop("disabled", false);
      });

    });
</script>
 </body>
</html>
